<!DOCTYPE html>
<html lang="en us">
<head>
	<meta charset="utf-8">
	<title>Friend | Finder</title>

	<!-- Latest compiled and minified CSS -->
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  	<!-- JQUERY CDN -->
  	<script src="https://code.jquery.com/jquery.js"></script>

  	<!-- BOOTSTRAPING THIS BABY -->
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  	<!-- Font Awesome CDN -->
  	<script src="https://use.fontawesome.com/97a3d525bd.js"></script>

	<!-- Chosen -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>


</head>
<body>
	<div class="container">
		<h2 class="text-left">Survey Questions</h2>
		<hr>
		<h3 class="text-left"><b>About You</b></h3>
		<h4>Name (Required)</h4>
			<div class="form-group">
				<input type="text" class="form-control" id="name">
			</div>
		<h4>Link to Photo Image (Required)</h4>
			<div class="form-group">
				<input type="text" class="form-control" id="photo">
			</div>
		<hr>
		<h3 class="text-left"><b>Question 1</b></h3>
			<h4>Being in a hospital for long periods of time doesn't bother you.</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num1" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 2</b></h3>
			<h4>The sight of blood makes you feel uneasy.</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num2" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 3</b></h3>
			<h4>You do not like needles.</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num3" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 4</b></h3>
			<h4>Hospital cafeteria food is awesome!</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num4" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 5</b></h3>
			<h4>Sixteen hour shifts do not bother you.</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num5" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 6</b></h3>
			<h4>Seattle is an amazing city to live in.</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num6" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 7</b></h3>
			<h4>You prefer to take care of others before yourself.</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num7" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 8</b></h3>
			<h4>You work well in teams.</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num8" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 9</b></h3>
			<h4>You would date a co-worker.</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num9" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<h3 class="text-left"><b>Question 10</b></h3>
			<h4>You love the rush of adrenaline!</h4>
			<select data-placeholder="Select An Option" class="chosen-select" id="num10" style="width:160px;">
				<option value=""></option>
				<option value="1">1 (Strongly Agree)</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5 (Strongly Disagree)</option>
			</select>
		<br><br>

		<button type="submit" class="btn btn-primary btn-lg btn-block submit"><span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span></span> Submit</button>
		<hr>

		<footer class="footer">
			<div class="container">
				<p><a href="/api/friends">API Friends List | </a><a href="https://github.com/JoseAraujoBH"> GitHub Repo <i class="fa fa-github" aria-hidden="true"></i></a></p>
			</div>
		</footer>

<!-- Modal Dialog Displaying Closest Friend Match -->
<div id="modal1" class="modal">
	<div class="modal-content">
		<h4>Closest Friend Match</h4>
		<div class="divider"></div>
		<h5 id="userMatch"></h5>
		<img id="userMatchImage" class="materialboxed" width="650" src="">
	</div>
	<div class="modal-footer">
		<a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
	</div>
</div>

<script type="text/javascript">
	$(document).ready(function() {
		$('select').material_select();
		$('.modal').modal({
			dismissible: false, // Modal can be dismissed by clicking outside of the modal
			opacity: .5, // Opacity of modal background
			inDuration: 300, // Transition in duration
			outDuration: 200, // Transition out duration
			startingTop: '4%', // Starting top style attribute
			endingTop: '10%' // Ending top style attribute
		});
	});
	// Activate submit button
	$('#submitButton').on('click', function(event) {
		event.preventDefault();
		// Gather user inputs
		var userInput = {
			name: $('#userName').val().trim(),
			photo: $('#userPhoto').val().trim(),
			scores:[
				$('#num1').val().trim(),
				$('#num2').val().trim(),
				$('#num3').val().trim(),
				$('#num4').val().trim(),
				$('#num5').val().trim(),
				$('#num6').val().trim(),
				$('#num7').val().trim(),
				$('#num8').val().trim(),
				$('#num9').val().trim(),
				$('#num10').val().trim()
			]
		};
		// console.log('userInput = ' + JSON.stringify(userInput));
		// Add user inputs to friends list
		$.post('/api/friends', userInput)
		  .done(function(data) {
			  // console.log('response = ' + JSON.stringify(data));
			  // Set the name and image values of friend match
			  $('#userMatch').html(data.matchName);
			$("#userMatchImage").attr("src", data.matchImage);
			// Pop open the modal dialog
			  $('#modal1').modal('open');
		  });
	});
</script>
	</script>

</body>
</html>